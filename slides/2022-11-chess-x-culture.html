<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<meta name="description" content="Why I think studying chess is interesting">
		<meta name="author" content="Egor Lappo">

		<title>chess</title>

		<link rel="stylesheet" href="revealjs/reset.css">
		<link rel="stylesheet" href="revealjs/reveal.css">
		<link rel="stylesheet" href="revealjs/theme/white.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<img src="2022-11-chess-x-culture-images/intro_art.jpg" alt="painting of chess players" style="height: 500px; border-radius: 2px;">
					<h3>CHESS x CULTURAL DYNAMICS</h3>
					<p>
						<small>why I think studying chess is interesting</small>
					</p>
					<p>
						<small>Egor Lappo</small>
					</p>
				</section>

				<section>

					<!-- unite outline -->
					<h3>Outline</h3>
					<ol>
						<span class="fragment"><li>Brief review of the game</li></span>
						<div class="fragment"><li>Why is it interesting to me?</li>
						
							<small>
								<ul>
									<span class="fragment">
										<li>Chess as a sport is an incredibly complicated system</li>
									</span>
									<span class="fragment">
										<li>Social processes in chess are interesting</li>
									</span>
									<span class="fragment">
										<li>Social transmission and move choice in the opening</li>
									</span>
									<span class="fragment">
										<li>Social learning and player development</li>
									</span>
									<span class="fragment">
										<li>At each step, influence of many factors needs to be untangled</li>
									</span>
								</ul>
								</small></div>
						<span class="fragment"><li>What is the data?</li></span>
						<span class="fragment"><li>What can we do?</li></span>
					</ol>

					<span class="fragment">
						<p>Follow along at <a href="https://tiny.one/chessslides">tiny.one/chessslides</a></p>
					</span>
				</section>

				<section>
					<section>
						<h2>The game</h2>

						<img src="2022-11-chess-x-culture-images/game.gif" alt="a chess game gif" style="width: 500px">
					</section>

					<section>
						<ul>
							<li>Complete information</li>
							<span class="fragment"><li>Tactical and strategical play</li></span>
							<span class="fragment"><li>Psychological and theoretical play</li></span>
						</ul>
					</section>

					<section>
						<h2>Opening</h2>

						<p><em>Theory</em></p>

						<span class="fragment">
							<p>Mainline/sideline</p>
						</span>

						<div class="fragment">
							<p>
								Low skill level → be precise and do not blunder
							</p>

							<p>
								High skill level → set the tone for the game
							</p>
						</div>
					</section>

					<section>
						<h2>Opening</h2>

						<h2>Middlegame</h2>

						<span class="fragment">
							<p>Transformation of advantages</p>
						</span>

						<span class="fragment">
							<p>Balance/imbalance</p>
						</span>

					</section>

					<section>
						<h2>Opening</h2>

						<h2>Middlegame</h2>

						<h2>Endgame</h2>

						<span class="fragment"><p><em>Solved completely: <a href="https://en.wikipedia.org/wiki/Endgame_tablebase">endgame tablebase</a></em></p><span>
					</section>

					<section>
						<p>
							<iframe width=800 height=600 src="https://lichess.org/study/embed/WZ1jYQxD/vV79ec1I#0?theme=grey&bg=dark" frameborder=0></iframe>
						</p>	
					</section>

					<section data-markdown>
						## Notation recap

						* X-axis: a,b,c,d,e,f,g,h
						* Y-axis: 1,2,3,4,5,6,7,8
						* `K` - King
						* `Q` - Queen 
						* `R` - Rook
						* `B` - Bishop
						* `N` - Knight
						* `x` means capture
						* `+` means check
						* `#` means checkmate
						* `O-O`/`O-O-O` means castling
					</section>

					<section>
						<h4>Rating</h4>

						<div class="fragment">
							<p>The players are ranked using the Elo rating system.</p>
						</div>

						<small>
						<ul>
								<span class="fragment"><li>Every player has some "true" strength value – their Elo rating</li></span>
								<span class="fragment"><li>In each game, players performs with strengths distributed normally around their Elo (with fixed variance)</li></span>
								<span class="fragment"><li>The points are transfered from the loser to the winner proportional to the overlap of their distributions</li></span>
								<span class="fragment"><li>The rating typically ranges from 600-700 (serious beginners) to almost 2882 (current record).</li></span>
						</ul>
						</small>
					</section>

					<section>
						<h4>Chess engines</h4>
						<p><a href="https://www.youtube.com/watch?v=HwF229U2ba8">DeepBlue</a>, <a href="https://www.youtube.com/watch?v=dITABWFb3qQ">Stockfish</a>, <a href="https://www.youtube.com/watch?v=8dT6CR9_6l4">AlphaZero</a></p>

						<small>
							<ul>
								<span class="fragment">
									<li><b>1950</b>: C. Shannon, <em><a href="https://vision.unipv.it/IA1/ProgrammingaComputerforPlayingChess.pdf">Programming a Computer for Playing Chess</a></em></li>
								</span>
								<span class="fragment">
									<li><b>1990s</b>: DeepBlue beats the world champion</li>
								</span>
								<span class="fragment">
									<li><b>2000s</b>: computers routinely used in preparation by GMs</li>
								</span>
								<span class="fragment">
									<li><b>2010s</b>: chess computers packaged into a commercial platform; <a href="https://arxiv.org/pdf/1712.01815.pdf">AI algorithms</a></li>
								</span>
							</ul>
							<span class="fragment">
								<p>A distinguishing feature of the game.</p>
							</span>
						</small>
					</section>
				</section>

				<section>
					<section>
						<h2>The role of culture in chess</h2>

						<span class="fragment"><p>The move choice is affected by </p></span>

						<ul>
						<span class="fragment"><li>theoretical preparation</li></span>
						<span class="fragment"><li><a href="https://www.youtube.com/watch?v=mUzCLtrfeSg">calculations</a></li></span>
						<span class="fragment"><li><a href="https://www.youtube.com/watch?v=1zkWaPNF7P4">psychology</a></li></span>
						<span class="fragment"><li>intuition</li></span>
						<span class="fragment"><li>the <b>meta</b></li></span>
						</ul>
						<!-- strategy trend, contemporary, affected by past, present -->
					</section>

					<section>
						<p>The meta(strategy) is determined by </p>
						<ul>
							<span class="fragment"><li>Chess engines</li></span>
							<span class="fragment"><li>Novelty</li></span>
						    <span class="fragment"><li>Use by superstar players</li></span>
							<span class="fragment"><li>Social circle/upbringing</li></span>
							<span class="fragment"><li>Memes</li></span>
							<span class="fragment"><li>...</li></span>
						</ul>

						<div class="fragment">
							<p>...or is it? I don't know, and I want to know.</p>
						</div>
					</section>

					<section>
						<p>Chess players become better as they play.</p>

						<div class="fragment">
							<p>How?</p>
						</div>

						<ul>
							<span class="fragment"><li>Training</li></span>
							<span class="fragment"><li>Preparation</li></span>
							<span class="fragment"><li>Social learning</li></span>
							<span class="fragment"><li>...</li></span>
						</ul>
					</section>

					<section>
						<h2>Chess opening data may give an answer</h2>
						<span class="fragment"><p><em>...but why study just the openings?</em></p></span>
						<div class="fragment"><p>Computational limits of humans and computers</p></div>
					</section>
				</section>

				<section>
					<section>
						<h2>Data</h2>
					</section>

					<section>
						<p>A set of high-quality games.</p>

						<div class="fragment">
							<p>I used <a href="https://caissabase.co.uk">Caissabase</a>: <br> database of chess games compiled from multiple sources.</p>

							<ul>
								<li>Games from 1971 to 2021</li>
								<li>~3.3M games after cleaning</li>
								<li>~71K players with Elo > 2000</li>
							</ul>
						</div>
					</section>

					<section>
						<h4>Size</h4>

						<img src="2022-11-chess-x-culture-images/plots/games_in_dataset.png" alt="dataset size over time">

					</section>

					<section>
						<p>What can we learn from global aggregates?</p>
					</section>

					<section>
						<h4>The first-move advantage is declining</h4>
						<span class="fragment">
							<p><small>Encode win for white as 1, win for black as -1, draw as 0.</small></p>

							<span class="fragment"><img src="2022-11-chess-x-culture-images/plots/average_result.png" alt="average game outcome over time" style="height: 500px"></span>
						</span>
					</section>

					<section>
						<h4>Games are becoming longer</h4>

						<span class="fragment"><img src="2022-11-chess-x-culture-images/plots/average_plycount.png" alt="average game length over time"></span>
					</section>

					<section>
						<h4>Overall narrative that we will see</h4>

						<ul>
							<span class="fragment">
								<li>The game is changing</li>
							</span>
							<span class="fragment">
								<li>It is changing extremely fast despite nearly 2000 years of history</li>
							</span>
							<span class="fragment">
								<li>Bulk (?) of this is due to <em>theory</em> developments </li>
							</span>
							<span class="fragment">
								<li>Many cultural processes in parallel with <em>theory</em> (below)</li>
							</span>
						</ul>
					</section>

					<!-- <section>
						<h4>Players (total)</h4>
					</section>

					<section>
						<h4>Players (yearly)</h4>
					</section> -->

				</section>

				<section>
					<section>
						
						<h2>A tour of the game tree</h2>

						<img src="2022-11-chess-x-culture-images/ltm_abstract.png" class="fragment" style="height: 500px;">
					</section>

					<section>
						
						<h2>A tour of the game tree</h2>

						<ol>
							<span class="fragment">
								<li>Choose a board position</li>
							</span>
							<span class="fragment">
								<li>Look at all the moves players make in that position</li>
							</span>
							<span class="fragment">
								<li>Track the move frequencies through time</li>
							</span>
							<span class="fragment">
								<li>Make a <em>streamplot</em></li>
							</span>
						</ol>
					</section>

					<section>
						<h4>Starting position</h4>

						<img src="2022-11-chess-x-culture-images/boards/ply1-board.png" style="height: 500px" alt="Starting position">
					</section>

					<section>
						<h4>Starting position</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply1.png" alt="Starting position Stream Plot">

					</section>

					<section>
						<h4>After 1. e4</h4>

						<img src="2022-11-chess-x-culture-images/boards/ply2_e4-board.png" style="height: 500px" alt="1. e4 position">
					</section>

					<section>
						<h4>After 1. e4</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply2_e4.png" alt="1. e4 Stream Plot">
					</section>

					<section>
						<h4>After 1. e4 c5</h4>

						<img src="2022-11-chess-x-culture-images/boards/ply3_sicilian-board.png" style="height: 500px" alt="Sicilian defence after ply 2">
					</section>

					<section>
						<h4>After 1. e4 c5</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply3_sicilian.png" alt="Sicilian Defence Stream Plot">
					</section>

					<section>
						<h4>Najdorf Sicilian</h4>

						<img src="2022-11-chess-x-culture-images/boards/ply11_najdorf-board.png" style="height: 500px" alt=""Najdorf Sicilian position>
					</section>

					<section>
						<h4>Najdorf Sicilian</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply11_najdorf.png" alt="Najdorf Sicilian Stream Plot">
					</section>

					<section>
						<h4>
							It took us six moves to get to the cutting edge of chess theory!
						</h4>
					</section>

					<section>
						<h4>Is it always like this?</h4>
					</section>

					<section>
						<h4>Queen's Gambit Declined I</h4>

						<img src="2022-11-chess-x-culture-images/boards/ply6_qgd-board.png" style="height: 500px" alt="QGD after ply 5">
					</section>

					<section>
						<h4>Queen's Gambit Declined I</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply6_qgd.png" alt="QGD ply 6 Stream Plot">
					</section>

					<section>
						<h4>Queen's Gambit Declined II</h4>

						<img src="2022-11-chess-x-culture-images/boards/ply7_qgd-board.png" style="height: 500px" alt=""QGD after ply 6>
					</section>

					<section>
						<h4>Queen's Gambit Declined II</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply7_qgd.png" alt="QGD ply 7 Stream Plot">
					</section>

					<section>
						<h4>
							One move completely changed the picture!
						</h4>
					</section>

					<section>
						<h4>
							I have more!
						</h4>

						<div class="fragment">
							<img src="2022-11-chess-x-culture-images/boards/ply6_rl-board.png" style="height: 500px" alt="Ruy-Lopez after ply 5">
						</div>
					</section>

					<section>
						<h4>Ruy-Lopez</h4>

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply6_rl.png" alt="Ruy-Lopez Stream Plot">
					</section>

					<section>
						<h4>Looking two moves ahead</h4>
						<div class="fragment">
							<img src="2022-11-chess-x-culture-images/boards/ply6_carokann-board.png" style="height: 500px" alt="Caro-Kann after ply 5">
						</div>
					</section>

					<section>
						<h4>Caro-Kann</h4>
						<!-- bobby fisher exchange variation -->

						<img src="2022-11-chess-x-culture-images/streamplots_with_boards/ply6_carokann.png" alt="Caro-Kann Stream Plot">
					</section>

					<section>
						<h4>How I see this</h4>

						<ul>
							<span class="fragment">
								<li>Analogy with biological plots</li>
							</span>
							<span class="fragment">
								<li>Nested structure</li>
							</span>
							<span class="fragment">
								<li>Fitness of a strategy</li>
							</span>
							<span class="fragment">
								<li>What drives "invasions"?</li>
							</span>
							<span class="fragment">
								<li>Critique of the time-series papers</li>
							</span>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Let's talk more about the players</h2>
					
						<div class="fragment">
							<p>The social learning community tried to work with <em>Go</em>.</p>

							<img src="2022-11-chess-x-culture-images/go_abstract.png" alt="abstract of Beheim et al. (2014)">
						</div>
					</section>

					<section>
						<p>Fit a Bayesian hierarchical model for odds ratio of choosing one starting move vs the rest.</p>

						<div class="fragment"><img src="2022-11-chess-x-culture-images/go_coeffs.png" style="height: 500px" alt="Beheim et al. (2014) coefficient table"></div>
					</section>

					<section>
						<p>Map players onto a 2D space</p>

						<img src="2022-11-chess-x-culture-images/go_main_plot.png" alt="">
					</section>

					<section>
						<p>I can repeat this, <span class="fragment">with odds-ratio of choosing to play the Sicilian:</span></p>
						<div class="fragment"><img src="2022-11-chess-x-culture-images/plots/model_1_plot.png" style="height: 450px" alt=""></div>
					</section>

					<section>
						<p>There is another approach.</p>

						<ul>
							<span class="fragment">
								<li>Track diversity of player's move choices as they age. </li>
							</span>

							
							<li>
								<span class="fragment">Compute <em>heterozygosity</em> ($1 - \sum p_i^2$),<br></span><span class="fragment"> and <em>entropy</em> ($-\sum p_i\log p_i$) of move frequencies.</span>
							</li>
							<span class="fragment">
								<li>Plot the averages over all players for each year</li>
							</span>
						</ul> 
					</section>

					<section>
						<h4>Player move choice diversity</h4>
						<img src="2022-11-chess-x-culture-images/plots/player_diversity.png" alt="">
					</section>

					<section>
						<p>Surprisingly, this is a universal pattern!</p>
					</section>

					<section>
						<img src="2022-11-chess-x-culture-images/plots/player_diversity_big_plot.png" alt="">
					</section>

					<section>
						<p>Would be cool to understand how this happens</p>

						<small>
						<ul>
							<span class="fragment">
								<li>Search vs specialization</li>
							</span>
							<span class="fragment">
								<li>A game-theoretic perspective on strategy selection process?</li>
							</span>
						</ul>
						</small>
					</section>
				</section>

				<section>
					<section><h2>Ideas? Comments?</h2></section>
				</section>

				<section>
					<h2>Thanks!</h2>
					<img src="2022-11-chess-x-culture-images/final_art.jpg" style="border-radius: 5px;">
					<p><a href="https://tiny.one/chessslides">tiny.one/chessslides</a></p>
				</section>
			</div>
		</div>

		<script src="revealjs/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
			});
		</script>
	</body>
</html>
